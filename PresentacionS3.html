<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentos de Estad√≠stica Descriptiva con R</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        :root {
            --primary: #6200ea;
            --primary-light: #9d46ff;
            --primary-dark: #0a00b6;
            --secondary: #00e5ff;
            --light: #f4f5fd;
            --dark: #121212;
            --success: #00c853;
            --warning: #ffd600;
            --danger: #ff3d00;
            --text-light: #ffffff;
            --text-dark: #212121;
            --border-radius: 12px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --glass: rgba(255, 255, 255, 0.1);
            --glass-dark: rgba(0, 0, 0, 0.2);
        }

        body {
            background-color: var(--light);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            background: linear-gradient(135deg, #f5f7ff 0%, #e9ebfd 100%);
        }

        .slides-container {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            position: relative;
            perspective: 1200px;
        }

        .slide {
            width: 100%;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.6s ease, transform 0.6s ease;
            padding: 40px;
            display: flex;
            flex-direction: column;
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: translateY(0);
            z-index: 5;
            pointer-events: all;
        }

        .slide-content {
            max-width: 1200px;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            background: white;
            position: relative;
        }

        .slide-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--text-light);
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        .slide-header::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 100%);
            transform: rotate(45deg);
            pointer-events: none;
        }

        .slide-body {
            background: white;
            padding: 30px;
            flex: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--light);
        }

        .slide-body::-webkit-scrollbar {
            width: 8px;
        }
        
        .slide-body::-webkit-scrollbar-track {
            background: var(--light);
        }
        
        .slide-body::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 10px;
        }

        h1 {
            font-size: 2.6rem;
            margin-bottom: 10px;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: var(--primary);
            font-weight: 700;
            letter-spacing: -0.3px;
        }

        h3 {
            font-size: 1.6rem;
            margin: 25px 0 15px 0;
            color: var(--primary);
            font-weight: 600;
            position: relative;
            padding-left: 15px;
            display: inline-block;
        }

        h3::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            height: 70%;
            width: 5px;
            background-color: var(--primary);
            transform: translateY(-50%);
            border-radius: 3px;
        }

        p {
            margin-bottom: 20px;
            font-size: 1.15rem;
            line-height: 1.7;
        }

        .code-block {
            background-color: #1e1e2e;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Fira Code', 'Courier New', monospace;
            margin: 15px 0;
            font-size: 0.92rem;
            white-space: pre;
            overflow-x: auto;
            line-height: 1.5;
            position: relative;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .code-header {
            padding: 8px 20px;
            background-color: #191925;
            color: #a0a0a0;
            border-radius: 10px 10px 0 0;
            font-size: 0.85rem;
            margin-top: 15px;
            margin-bottom: -15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-comment {
            color: #6272a4;
        }

        .code-keyword {
            color: #ff79c6;
        }

        .code-function {
            color: #50fa7b;
        }

        .code-string {
            color: #f1fa8c;
        }

        .code-number {
            color: #bd93f9;
        }

        .code-r-pipe {
            color: #8be9fd;
        }

        ul, ol {
            margin-bottom: 20px;
            margin-left: 25px;
        }

        li {
            margin-bottom: 10px;
            font-size: 1.1rem;
            position: relative;
        }

        ul li::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 10px;
            width: 8px;
            height: 8px;
            background-color: var(--primary);
            border-radius: 50%;
        }

        ol {
            counter-reset: item;
            list-style-type: none;
        }

        ol li {
            counter-increment: item;
        }

        ol li::before {
            content: counter(item) ".";
            position: absolute;
            left: -20px;
            color: var(--primary);
            font-weight: 600;
        }

        .two-columns {
            display: flex;
            gap: 30px;
            margin: 25px 0;
        }

        .column {
            flex: 1;
            min-width: 0;
        }

        .img-container {
            text-align: center;
            margin: 25px 0;
        }

        img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .note {
            background: linear-gradient(135deg, rgba(98, 0, 234, 0.05) 0%, rgba(0, 229, 255, 0.05) 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
            margin: 20px 0;
            position: relative;
        }

        .warning {
            background: linear-gradient(135deg, rgba(255, 214, 0, 0.05) 0%, rgba(255, 214, 0, 0.1) 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--warning);
            margin: 20px 0;
        }

        .tip {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.05) 0%, rgba(0, 200, 83, 0.1) 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--success);
            margin: 20px 0;
        }

        .controls {
            position: fixed;
            bottom: 40px;
            right: 40px;
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(98, 0, 234, 0.3);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(98, 0, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(98, 0, 234, 0.4);
        }

        .slide-counter {
            position: fixed;
            bottom: 40px;
            left: 40px;
            background: white;
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary);
            box-shadow: var(--shadow);
            z-index: 100;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        th, td {
            padding: 15px;
            text-align: left;
        }

        th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        tr:nth-child(even) {
            background-color: rgba(98, 0, 234, 0.03);
        }

        tr:hover {
            background-color: rgba(98, 0, 234, 0.07);
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--primary);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .card-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        /* Estilos para datasets cards */
        .dataset-card {
            display: flex;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 20px 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .dataset-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .dataset-img {
            width: 35%;
            min-height: 200px;
            background-size: cover;
            background-position: center;
        }
        
        .dataset-info {
            padding: 20px;
            flex: 1;
        }
        
        .dataset-title {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .dataset-source {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .dataset-desc {
            margin-bottom: 15px;
        }
        
        .dataset-stats {
            display: flex;
            gap: 15px;
            margin-top: auto;
        }
        
        .stat {
            background: rgba(98, 0, 234, 0.05);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .stat-label {
            font-weight: 600;
            color: var(--primary);
        }

        /* Estilos para gr√°ficos */
        .chart {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin: 20px 0;
        }
        
        .chart-title {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
            text-align: center;
        }
        
        .chart-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        .chart-img {
            width: 100%;
            height: auto;
            margin: 0 auto;
            display: block;
        }

        /* Step by step section */
        .steps {
            counter-reset: step;
            margin: 30px 0;
        }
        
        .step {
            position: relative;
            padding-left: 60px;
            margin-bottom: 30px;
        }
        
        .step::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            font-weight: 600;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(98, 0, 234, 0.3);
        }
        
        .step-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        /* Keyframes para animaciones */
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @keyframes slideInUp {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        /* Aplicando animaciones */
        .animate-fade-in {
            animation: fadeIn 0.8s ease forwards;
        }
        
        .animate-slide-up {
            animation: slideInUp 0.8s ease forwards;
        }
        
        /* Delay para animaciones secuenciales */
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        .delay-5 { animation-delay: 0.5s; }
        
        /* Futuristic details */
        .glow {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary-light) 0%, rgba(98, 0, 234, 0) 70%);
            opacity: 0.3;
            filter: blur(30px);
            z-index: -1;
        }
        
        .glow-1 {
            top: -100px;
            right: 10%;
        }
        
        .glow-2 {
            bottom: -50px;
            left: 5%;
        }
        
        .grid-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.5;
            z-index: -1;
        }
    </style>
</head>
<body>
    <div class="slides-container">
        <!-- Slide 1: Portada -->
        <div class="slide active">
            <div class="slide-content">
                <div class="slide-header">
                    <div class="glow glow-1"></div>
                    <div class="glow glow-2"></div>
                    <div class="grid-bg"></div>
                    <h1 class="animate-slide-up">Fundamentos de Estad√≠stica Descriptiva con R</h1>
                    <p class="animate-slide-up delay-1">Semanas 2-3: Importaci√≥n de datos, variables y visualizaci√≥n</p>
                </div>
                <div class="slide-body" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                    <img src="/api/placeholder/600/350" alt="R Studio y Data Science" class="animate-fade-in delay-2" style="margin: 0 auto; max-width: 400px; margin-bottom: 40px;">
                    <h2 class="animate-slide-up delay-3">An√°lisis exploratorio con R</h2>
                    <p class="animate-slide-up delay-4" style="font-size: 1.2rem; margin-top: 20px;">Universidad Latinoamericana de Ciencia y Tecnolog√≠a</p>
                    <p class="animate-slide-up delay-5" style="font-size: 1.1rem;">Centro de Innovaci√≥n y Transferencia Tecnol√≥gica (CIT)</p>
                </div>
            </div>
        </div>

        <!-- Slide 2: Contenidos -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h1>Contenidos del taller</h1>
                </div>
                <div class="slide-body">
                    <div class="two-columns">
                        <div class="column">
                            <div class="card">
                                <div class="card-title">Semana 2: Fundamentos de R</div>
                                <ul>
                                    <li>Importaci√≥n y exportaci√≥n de datos (CSV, Excel)</li>
                                    <li>Paquetes esenciales: tidyverse, dplyr</li>
                                    <li>Actividad pr√°ctica: Importar conjunto de datos y exploraci√≥n inicial</li>
                                </ul>
                            </div>
                        </div>
                        <div class="column">
                            <div class="card">
                                <div class="card-title">Semana 3: Estad√≠stica descriptiva I</div>
                                <ul>
                                    <li>Variables cualitativas y cuantitativas</li>
                                    <li>Escalas de medici√≥n (nominal, ordinal, intervalo, raz√≥n)</li>
                                    <li>Tablas de frecuencia y tablas de contingencia en R</li>
                                    <li>Visualizaci√≥n de variables categ√≥ricas</li>
                                    <li>Actividad pr√°ctica: An√°lisis descriptivo</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h3>Dataset para nuestro an√°lisis</h3>
                    <div class="dataset-card">
                        <div class="dataset-img" style="background-image: url('/api/placeholder/500/400');"></div>
                        <div class="dataset-info">
                            <div class="dataset-title">Penguin Dataset</div>
                            <div class="dataset-source">Fuente: palmerpenguins package (R)</div>
                            <div class="dataset-desc">
                                <p>El dataset contiene medidas para tres especies de ping√ºinos observados en tres islas del Archipi√©lago Palmer, Ant√°rtida. Incluye variables como especie, isla, tama√±o del pico, longitud de aleta, peso corporal y sexo.</p>
                                <p>Este conjunto de datos es perfecto para an√°lisis exploratorio y estad√≠stica descriptiva, con una mezcla de variables categ√≥ricas y num√©ricas.</p>
                            </div>
                            <div class="dataset-stats">
                                <div class="stat"><span class="stat-label">Filas:</span> 344</div>
                                <div class="stat"><span class="stat-label">Columnas:</span> 8</div>
                                <div class="stat"><span class="stat-label">Especies:</span> 3</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Importaci√≥n de datos -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h1>Importaci√≥n y exportaci√≥n de datos</h1>
                </div>
                <div class="slide-body">
                    <h3>¬øPor qu√© es importante?</h3>
                    <p>La importaci√≥n de datos es el primer paso crucial en cualquier an√°lisis estad√≠stico. R ofrece m√∫ltiples m√©todos para importar datos de diversas fuentes.</p>

                    <div class="img-container">
                        <img src="/api/placeholder/800/400" alt="Diagrama de flujo de importaci√≥n de datos" style="max-width: 600px;">
                    </div>

                    <h3>Instalaci√≥n de paquetes necesarios</h3>
                    <div class="code-header">
                        <span>Instalaci√≥n de paquetes</span>
                    </div>
                    <div class="code-block">
<span class="code-comment"># Instalaci√≥n de tidyverse (incluye readr, dplyr, ggplot2, entre otros)</span>
<span class="code-function">install.packages</span>(<span class="code-string">"tidyverse"</span>)

<span class="code-comment"># Instalaci√≥n de readxl para importar archivos Excel</span>
<span class="code-function">install.packages</span>(<span class="code-string">"readxl"</span>)

<span class="code-comment"># Instalaci√≥n de palmerpenguins (nuestro dataset de ejemplo)</span>
<span class="code-function">install.packages</span>(<span class="code-string">"palmerpenguins"</span>)
                    </div>

                    <h3>M√©todos de importaci√≥n por tipo de archivo</h3>
                    <div class="two-columns">
                        <div class="column">
                            <div class="card">
                                <div class="card-title">Importar CSV</div>
                                <div class="code-block">
<span class="code-comment"># Con R base</span>
data_base <- <span class="code-function">read.csv</span>(<span class="code-string">"archivo.csv"</span>)

<span class="code-comment"># Con readr (tidyverse)</span>
<span class="code-keyword">library</span>(readr)
data_readr <- <span class="code-function">read_csv</span>(<span class="code-string">"archivo.csv"</span>)
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="card">
                                <div class="card-title">Importar Excel</div>
                                <div class="code-block">
<span class="code-comment"># Con readxl</span>
<span class="code-keyword">library</span>(readxl)
data_excel <- <span class="code-function">read_excel</span>(<span class="code-string">"archivo.xlsx"</span>, 
                 sheet = <span class="code-number">1</span>)
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3>Carga del dataset de Ping√ºinos</h3>
                    <div class="code-header">
                        <span>Carga de datos para este taller</span>
                    </div>
                    <div class="code-block">
<span class="code-comment"># Cargar el paquete palmerpenguins</span>
<span class="code-keyword">library</span>(palmerpenguins)

<span class="code-comment"># Cargar el dataset de ping√ºinos</span>
data(penguins)

<span class="code-comment"># Ver las primeras filas del dataset</span>
<span class="code-function">head</span>(penguins)

<span class="code-comment"># Estructura del dataset</span>
<span class="code-function">str</span>(penguins)

<span class="code-comment"># Resumen estad√≠stico b√°sico</span>
<span class="code-function">summary</span>(penguins)
                    </div>

                    <div class="note">
                        <strong>Nota:</strong> El conjunto de datos 'penguins' viene en el paquete palmerpenguins y no requiere importaci√≥n desde un archivo. Sin embargo, si quisieras exportarlo para uso futuro, podr√≠as usar los siguientes m√©todos.
                    </div>

                    <h3>Exportaci√≥n de datos</h3>
                    <div class="code-header">
                        <span>Exportaci√≥n de datos a diferentes formatos</span>
                    </div>
                    <div class="code-block">
<span class="code-comment"># Exportar a CSV</span>
<span class="code-function">write.csv</span>(penguins, <span class="code-string">"penguins_data.csv"</span>, row.names = <span class="code-keyword">FALSE</span>)

<span class="code-comment"># Exportar con readr (tidyverse)</span>
<span class="code-keyword">library</span>(readr)
<span class="code-function">write_csv</span>(penguins, <span class="code-string">"penguins_data.csv"</span>)

<span class="code-comment"># Exportar a Excel (requiere el paquete writexl)</span>
<span class="code-comment"># install.packages("writexl")</span>
<span class="code-keyword">library</span>(writexl)
<span class="code-function">write_xlsx</span>(penguins, <span class="code-string">"penguins_data.xlsx"</span>)

<span class="code-comment"># Exportar a formato R</span>
<span class="code-function">saveRDS</span>(penguins, <span class="code-string">"penguins_data.rds"</span>)
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Paquetes esenciales -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h1>Paquetes esenciales: tidyverse y dplyr</h1>
                </div>
                <div class="slide-body">
                    <h3>El ecosistema tidyverse</h3>

                    <div class="img-container">
                        <img src="/api/placeholder/800/400" alt="Ecosistema tidyverse" style="max-width: 700px;">
                    </div>

                    <p>Tidyverse es una colecci√≥n de paquetes de R dise√±ados para ciencia de datos que comparten una filosof√≠a de dise√±o, gram√°tica y estructuras de datos.</p>

                    <div class="two-columns">
                        <div class="column">
                           <div class="card">
                               <div class="card-title">Ventajas de tidyverse</div>
                               <ul>
                                   <li><strong>Consistencia:</strong> Sintaxis y estructura unificada</li>
                                   <li><strong>Operador pipe (%>%):</strong> Secuencias de operaciones intuitivas</li>
                                   <li><strong>Legibilidad:</strong> C√≥digo m√°s f√°cil de entender y mantener</li>
                                   <li><strong>Eficiencia:</strong> Operaciones optimizadas para grandes conjuntos de datos</li>
                                   <li><strong>Comunidad activa:</strong> Excelente documentaci√≥n y soporte</li>
                               </ul>
                           </div>
                       </div>
                   </div>

                   <h3>dplyr: El paquete esencial para manipulaci√≥n de datos</h3>
                   
                   <p>dplyr proporciona una "gram√°tica" para la manipulaci√≥n de datos con verbos intuitivos que corresponden a las operaciones m√°s comunes:</p>

                   <div class="code-header">
                       <span>Carga de paquetes y operaciones b√°sicas con dplyr</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Cargar tidyverse (incluye dplyr)</span>
<span class="code-keyword">library</span>(tidyverse)

<span class="code-comment"># Verbos principales de dplyr con el dataset de ping√ºinos</span>

<span class="code-comment"># 1. filter(): Filtrar filas seg√∫n condiciones</span>
ping√ºinos_adelie <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">filter</span>(species == <span class="code-string">"Adelie"</span>)

<span class="code-comment"># 2. select(): Seleccionar columnas</span>
medidas_ping√ºinos <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">select</span>(species, island, bill_length_mm, flipper_length_mm, body_mass_g)

<span class="code-comment"># 3. mutate(): Crear o modificar columnas</span>
penguins_con_indice <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">mutate</span>(
   bill_body_ratio = bill_length_mm / body_mass_g,
   body_mass_kg = body_mass_g / 1000
 )

<span class="code-comment"># 4. arrange(): Ordenar filas</span>
penguins_ordenados <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">arrange</span>(desc(body_mass_g))

<span class="code-comment"># 5. summarise(): Resumir datos</span>
resumen_por_especie <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">group_by</span>(species) <span class="code-r-pipe">%>%</span>
 <span class="code-function">summarise</span>(
   peso_promedio = <span class="code-function">mean</span>(body_mass_g, na.rm = TRUE),
   max_longitud_aleta = <span class="code-function">max</span>(flipper_length_mm, na.rm = TRUE),
   n_ping√ºinos = <span class="code-function">n</span>()
 )
                   </div>

                   <div class="tip">
                       <strong>Consejo:</strong> El operador pipe (<code>%>%</code>) permite encadenar operaciones de manera intuitiva. Se lee como "y luego". Simplifica el c√≥digo al evitar variables intermedias y anidamiento de funciones.
                   </div>

                   <h3>Ejemplo completo con tidyverse</h3>
                   <div class="code-header">
                       <span>Flujo de trabajo completo con ping√ºinos</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># An√°lisis exploratorio con operaciones encadenadas</span>
analisis_ping√ºinos <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Eliminar filas con valores faltantes</span>
 <span class="code-function">drop_na</span>() <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Filtrar s√≥lo ping√ºinos de isla Dream o Biscoe</span>
 <span class="code-function">filter</span>(island %in% <span class="code-function">c</span>(<span class="code-string">"Dream"</span>, <span class="code-string">"Biscoe"</span>)) <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Crear nueva variable</span>
 <span class="code-function">mutate</span>(
   size_category = <span class="code-function">case_when</span>(
     body_mass_g < 3500 ~ <span class="code-string">"Peque√±o"</span>,
     body_mass_g < 4500 ~ <span class="code-string">"Mediano"</span>,
     TRUE ~ <span class="code-string">"Grande"</span>
   )
 ) <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Agrupar por especie e isla</span>
 <span class="code-function">group_by</span>(species, island, size_category) <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Calcular estad√≠sticas</span>
 <span class="code-function">summarise</span>(
   n_ping√ºinos = <span class="code-function">n</span>(),
   promedio_pico = <span class="code-function">mean</span>(bill_length_mm),
   prom_aleta = <span class="code-function">mean</span>(flipper_length_mm),
   .groups = <span class="code-string">"drop"</span>
 ) <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Ordenar resultados</span>
 <span class="code-function">arrange</span>(island, species, desc(n_ping√ºinos))

<span class="code-comment"># Mostrar resultado</span>
analisis_ping√ºinos
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 5: Exploraci√≥n inicial -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Actividad pr√°ctica: Exploraci√≥n inicial del dataset</h1>
               </div>
               <div class="slide-body">
                   <h3>Pasos para la exploraci√≥n inicial</h3>
                   
                   <div class="steps">
                       <div class="step">
                           <div class="step-title">Carga y vistazo general</div>
                           <div class="code-block">
<span class="code-comment"># Cargar el paquete y el dataset</span>
<span class="code-keyword">library</span>(palmerpenguins)
<span class="code-keyword">library</span>(tidyverse)
data(penguins)

<span class="code-comment"># Vistazo a las primeras filas</span>
<span class="code-function">head</span>(penguins)

<span class="code-comment"># Estructura del dataset</span>
<span class="code-function">glimpse</span>(penguins)

<span class="code-comment"># Dimensiones (filas y columnas)</span>
<span class="code-function">dim</span>(penguins)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Verificar valores faltantes</div>
                           <div class="code-block">
<span class="code-comment"># Contar valores NA por columna</span>
<span class="code-function">colSums</span>(<span class="code-function">is.na</span>(penguins))

<span class="code-comment"># Visualizar patrones de valores faltantes</span>
<span class="code-keyword">library</span>(visdat)  <span class="code-comment"># install.packages("visdat") si no lo tienes</span>
<span class="code-function">vis_miss</span>(penguins)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Resumen estad√≠stico b√°sico</div>
                           <div class="code-block">
<span class="code-comment"># Resumen estad√≠stico general</span>
<span class="code-function">summary</span>(penguins)

<span class="code-comment"># Resumen por grupos (especie)</span>
penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">group_by</span>(species) <span class="code-r-pipe">%>%</span>
 <span class="code-function">summarise</span>(
   across(where(is.numeric), 
          list(media = <span class="code-function">~mean</span>(., na.rm = TRUE), 
               desv = <span class="code-function">~sd</span>(., na.rm = TRUE)),
          .names = <span class="code-string">"{.col}_{.fn}"</span>)
 )
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Distribuci√≥n de variables categ√≥ricas</div>
                           <div class="code-block">
<span class="code-comment"># Distribuci√≥n de especies</span>
<span class="code-function">table</span>(penguins$species)

<span class="code-comment"># Distribuci√≥n por isla</span>
<span class="code-function">table</span>(penguins$island)

<span class="code-comment"># Tabla cruzada: especie por isla</span>
<span class="code-function">table</span>(penguins$species, penguins$island)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Visualizaci√≥n exploratoria r√°pida</div>
                           <div class="code-block">
<span class="code-comment"># Histograma de longitud de pico</span>
<span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = bill_length_mm)) +
 <span class="code-function">geom_histogram</span>(bins = 20, fill = <span class="code-string">"#6200ea"</span>, color = <span class="code-string">"white"</span>) +
 <span class="code-function">labs</span>(title = <span class="code-string">"Distribuci√≥n de longitud del pico"</span>)

<span class="code-comment"># Gr√°fico de barras de especies</span>
<span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = species, fill = species)) +
 <span class="code-function">geom_bar</span>() +
 <span class="code-function">labs</span>(title = <span class="code-string">"N√∫mero de ping√ºinos por especie"</span>)

<span class="code-comment"># Boxplot de masa corporal por especie</span>
<span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = species, y = body_mass_g, fill = species)) +
 <span class="code-function">geom_boxplot</span>() +
 <span class="code-function">labs</span>(title = <span class="code-string">"Distribuci√≥n de masa corporal por especie"</span>)
                           </div>
                       </div>
                   </div>
                   
                   <div class="chart">
                       <div class="chart-title">Distribuci√≥n por especies</div>
                       <div class="chart-subtitle">Conteo de ping√ºinos por especie en el dataset</div>
                       <img src="/api/placeholder/700/350" alt="Gr√°fico de barras por especie" class="chart-img">
                   </div>
                   
                   <div class="note">
                       <strong>Nota:</strong> La exploraci√≥n inicial de datos es fundamental antes de cualquier an√°lisis estad√≠stico profundo. Nos permite identificar patrones generales, posibles problemas en los datos (como valores faltantes o at√≠picos) y formular hip√≥tesis para investigaciones m√°s detalladas.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 6: Variables cualitativas y cuantitativas -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Variables cualitativas y cuantitativas</h1>
               </div>
               <div class="slide-body">
                   <div class="two-columns">
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Variables cualitativas (categ√≥ricas)</div>
                               <p>Expresan caracter√≠sticas o cualidades que no pueden medirse con n√∫meros.</p>
                               <ul>
                                   <li><strong>Nominales:</strong> No tienen orden intr√≠nseco (ej. especies, islas)</li>
                                   <li><strong>Ordinales:</strong> Tienen un orden natural (ej. rangos, niveles)</li>
                               </ul>
                               <p>En el dataset de ping√ºinos:</p>
                               <ul>
                                   <li><strong>species:</strong> Nominal (Adelie, Chinstrap, Gentoo)</li>
                                   <li><strong>island:</strong> Nominal (Biscoe, Dream, Torgersen)</li>
                                   <li><strong>sex:</strong> Nominal (male, female)</li>
                               </ul>
                           </div>
                       </div>
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Variables cuantitativas (num√©ricas)</div>
                               <p>Expresan cantidades medibles num√©ricamente.</p>
                               <ul>
                                   <li><strong>Discretas:</strong> Valores enteros, contables</li>
                                   <li><strong>Continuas:</strong> Cualquier valor en un intervalo</li>
                               </ul>
                               <p>En el dataset de ping√ºinos:</p>
                               <ul>
                                   <li><strong>bill_length_mm:</strong> Continua</li>
                                   <li><strong>bill_depth_mm:</strong> Continua</li>
                                   <li><strong>flipper_length_mm:</strong> Continua</li>
                                   <li><strong>body_mass_g:</strong> Continua</li>
                               </ul>
                           </div>
                       </div>
                   </div>

                   <h3>Identificaci√≥n de tipos de variables en R</h3>
                   <div class="code-header">
                       <span>Identificando tipos de variables en el dataset de ping√ºinos</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Revisar la estructura del dataset</span>
<span class="code-function">str</span>(penguins)

<span class="code-comment"># Ver el tipo de variable de cada columna</span>
<span class="code-function">sapply</span>(penguins, class)

<span class="code-comment"># Verificar qu√© variables son factores (categ√≥ricas)</span>
factores <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">select</span>(where(is.factor)) <span class="code-r-pipe">%>%</span> 
 <span class="code-function">names</span>()
<span class="code-function">print</span>(factores)

<span class="code-comment"># Verificar qu√© variables son num√©ricas</span>
numericas <- penguins <span class="code-r-pipe">%>%</span> 
 <span class="code-function">select</span>(where(is.numeric)) <span class="code-r-pipe">%>%</span> 
 <span class="code-function">names</span>()
<span class="code-function">print</span>(numericas)
                   </div>

                   <h3>Tratamiento diferenciado seg√∫n tipo de variable</h3>
                   <div class="chart">
                       <div class="chart-title">Diferencias en el an√°lisis por tipo de variable</div>
                       <img src="/api/placeholder/800/400" alt="Diferencias de an√°lisis por tipo de variable" class="chart-img">
                   </div>

                   <div class="code-header">
                       <span>Ejemplo de an√°lisis diferenciado por tipo de variable</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Para variables cualitativas: tabla de frecuencia</span>
<span class="code-function">table</span>(penguins$species)
<span class="code-function">prop.table</span>(<span class="code-function">table</span>(penguins$species)) * 100  <span class="code-comment"># Porcentajes</span>

<span class="code-comment"># Para variables cuantitativas: estad√≠sticos descriptivos</span>
<span class="code-function">summary</span>(penguins$body_mass_g)
<span class="code-function">sd</span>(penguins$body_mass_g, na.rm = TRUE)  <span class="code-comment"># Desviaci√≥n est√°ndar</span>
                   </div>

                   <div class="note">
                       <strong>Importante:</strong> Identificar correctamente el tipo de variable es fundamental para seleccionar las t√©cnicas estad√≠sticas apropiadas. Los m√©todos de an√°lisis para variables cualitativas difieren significativamente de los utilizados para variables cuantitativas.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 7: Escalas de medici√≥n -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Escalas de medici√≥n</h1>
               </div>
               <div class="slide-body">
                   <h3>Las cuatro escalas de medici√≥n</h3>
                   <p>Las escalas de medici√≥n definen el nivel de informaci√≥n que contienen las variables y las operaciones matem√°ticas permitidas.</p>

                   <table>
                       <tr>
                           <th>Escala</th>
                           <th>Caracter√≠sticas</th>
                           <th>Operaciones</th>
                           <th>Ejemplos en ping√ºinos</th>
                           <th>Representaci√≥n en R</th>
                       </tr>
                       <tr>
                           <td><strong>Nominal</strong></td>
                           <td>Categor√≠as sin orden</td>
                           <td>Igualdad/desigualdad (=, ‚â†)</td>
                           <td>species, island, sex</td>
                           <td>factor (sin ordered)</td>
                       </tr>
                       <tr>
                           <td><strong>Ordinal</strong></td>
                           <td>Categor√≠as con orden</td>
                           <td>Mayor/menor (>, <)</td>
                           <td>Tama√±o (si lo clasific√°ramos como peque√±o, mediano, grande)</td>
                           <td>ordered factor</td>
                       </tr>
                       <tr>
                           <td><strong>Intervalo</strong></td>
                           <td>Distancias iguales, cero arbitrario</td>
                           <td>Suma/resta (+, -)</td>
                           <td>year (a√±o de observaci√≥n)</td>
                           <td>numeric</td>
                       </tr>
                       <tr>
                           <td><strong>Raz√≥n</strong></td>
                           <td>Distancias iguales, cero absoluto</td>
                           <td>Todas (incl. multiplicaci√≥n/divisi√≥n)</td>
                           <td>bill_length_mm, body_mass_g</td>
                           <td>numeric</td>
                       </tr>
                   </table>

                   <h3>Diferencias entre escalas y su importancia</h3>
                   <div class="two-columns">
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Jerarqu√≠a de escalas de medici√≥n</div>
                               <img src="/api/placeholder/400/300" alt="Jerarqu√≠a de escalas de medici√≥n" class="chart-img">
                           </div>
                       </div>
                       <div class="column">
                           <div class="note">
                               <strong>¬øPor qu√© importa la escala?</strong>
                               <ul>
                                   <li>Determina qu√© operaciones matem√°ticas son v√°lidas</li>
                                   <li>Define qu√© estad√≠sticos son significativos (no tiene sentido calcular la media de una variable nominal)</li>
                                   <li>Influye en la elecci√≥n de t√©cnicas anal√≠ticas y gr√°ficas</li>
                                   <li>Afecta la interpretaci√≥n de los resultados</li>
                               </ul>
                           </div>
                       </div>
                   </div>

                   <h3>Creaci√≥n y manejo de escalas en R</h3>
                   <div class="code-header">
                       <span>Creaci√≥n y transformaci√≥n de variables seg√∫n escala</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Creaci√≥n de una variable ordinal (ejemplo)</span>
penguins_con_tama√±o <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">mutate</span>(
   size_category = <span class="code-function">case_when</span>(
     body_mass_g < 3500 ~ <span class="code-string">"Peque√±o"</span>,
     body_mass_g < 4500 ~ <span class="code-string">"Mediano"</span>,
     TRUE ~ <span class="code-string">"Grande"</span>
   ),
   <span class="code-comment"># Convertir a factor ordenado</span>
   size_category = <span class="code-function">factor</span>(
     size_category, 
     levels = <span class="code-function">c</span>(<span class="code-string">"Peque√±o"</span>, <span class="code-string">"Mediano"</span>, <span class="code-string">"Grande"</span>),
     ordered = TRUE
   )
 )

<span class="code-comment"># Verificar que es un factor ordenado</span>
<span class="code-function">class</span>(penguins_con_tama√±o$size_category)
<span class="code-function">is.ordered</span>(penguins_con_tama√±o$size_category)

<span class="code-comment"># Demostraci√≥n de comparaciones posibles con factores ordenados</span>
ejemplo <- penguins_con_tama√±o <span class="code-r-pipe">%>%</span>
 <span class="code-function">filter</span>(!<span class="code-function">is.na</span>(size_category)) <span class="code-r-pipe">%>%</span>
 <span class="code-function">select</span>(species, body_mass_g, size_category)

<span class="code-comment"># Ahora podemos usar operadores de comparaci√≥n</span>
grandes <- ejemplo <span class="code-r-pipe">%>%</span> <span class="code-function">filter</span>(size_category == <span class="code-string">"Grande"</span>)
no_peque√±os <- ejemplo <span class="code-r-pipe">%>%</span> <span class="code-function">filter</span>(size_category > <span class="code-string">"Peque√±o"</span>)
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 8: Tablas de frecuencia -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Tablas de frecuencia en R</h1>
               </div>
               <div class="slide-body">
                   <h3>Tipos de tablas de frecuencia</h3>
                   <p>Las tablas de frecuencia son herramientas fundamentales para resumir variables categ√≥ricas, mostrando cu√°ntas veces ocurre cada valor o categor√≠a.</p>

                   <div class="two-columns">
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Conceptos clave</div>
                               <ul>
                                   <li><strong>Frecuencia absoluta:</strong> Conteo de cada categor√≠a</li>
                                   <li><strong>Frecuencia relativa:</strong> Proporci√≥n respecto al total (0-1)</li>
                                   <li><strong>Frecuencia porcentual:</strong> Porcentaje del total (0-100%)</li>
                                   <li><strong>Frecuencia acumulada:</strong> Suma progresiva de frecuencias</li>
                               </ul>
                           </div>
                       </div>
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Distribuci√≥n de especies</div>
                               <img src="/api/placeholder/400/300" alt="Tabla de frecuencia especies" class="chart-img">
                           </div>
                       </div>
                   </div>

                   <h3>Creaci√≥n de tablas de frecuencia en R</h3>
                   <div class="code-header">
                       <span>Con funciones base de R</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Tabla de frecuencia absoluta</span>
freq_especies <- <span class="code-function">table</span>(penguins$species)
<span class="code-function">print</span>(freq_especies)

<span class="code-comment"># Tabla de frecuencia relativa</span>
freq_rel_especies <- <span class="code-function">prop.table</span>(freq_especies)
<span class="code-function">print</span>(freq_rel_especies)

<span class="code-comment"># Tabla de frecuencia porcentual</span>
freq_porc_especies <- <span class="code-function">prop.table</span>(freq_especies) * 100
<span class="code-function">print</span>(freq_porc_especies)

<span class="code-comment"># Tabla de frecuencia acumulada</span>
freq_acum_especies <- <span class="code-function">cumsum</span>(freq_especies)
<span class="code-function">print</span>(freq_acum_especies)

<span class="code-comment"># Tabla de frecuencia completa</span>
tabla_completa <- <span class="code-function">data.frame</span>(
 Frecuencia = freq_especies,
 Porcentaje = <span class="code-function">round</span>(freq_porc_especies, 2),
 Acumulada = freq_acum_especies,
 Porc_Acum = <span class="code-function">round</span>(<span class="code-function">cumsum</span>(freq_porc_especies), 2)
)
<span class="code-function">print</span>(tabla_completa)
                   </div>

                   <div class="code-header">
                       <span>Con tidyverse (dplyr)</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Tabla de frecuencia con dplyr</span>
tabla_especies <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(species) <span class="code-r-pipe">%>%</span>
 <span class="code-function">mutate</span>(
   porcentaje = <span class="code-function">round</span>(n / <span class="code-function">sum</span>(n) * 100, 2),
   acumulado = <span class="code-function">cumsum</span>(n),
   porc_acum = <span class="code-function">round</span>(<span class="code-function">cumsum</span>(porcentaje), 2)
 )

<span class="code-function">print</span>(tabla_especies)

<span class="code-comment"># Tabla de frecuencia para isla</span>
tabla_islas <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(island) <span class="code-r-pipe">%>%</span>
 <span class="code-function">mutate</span>(
   porcentaje = <span class="code-function">round</span>(n / <span class="code-function">sum</span>(n) * 100, 2),
   acumulado = <span class="code-function">cumsum</span>(n),
   porc_acum = <span class="code-function">round</span>(<span class="code-function">cumsum</span>(porcentaje), 2)
 )

<span class="code-function">print</span>(tabla_islas)
                   </div>

                   <h3>Visualizaci√≥n de tablas de frecuencia</h3>
                   <div class="code-header">
                       <span>Representaci√≥n gr√°fica de tablas de frecuencia</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Gr√°fico de barras para frecuencia absoluta</span>
<span class="code-function">ggplot</span>(tabla_especies, <span class="code-function">aes</span>(x = species, y = n, fill = species)) +
 <span class="code-function">geom_col</span>() +
 <span class="code-function">geom_text</span>(<span class="code-function">aes</span>(label = n), vjust = -0.5) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Frecuencia de especies de ping√ºinos"</span>,
   x = <span class="code-string">"Especie"</span>,
    y = <span class="code-string">"Frecuencia"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Gr√°fico de barras para frecuencia porcentual</span>
<span class="code-function">ggplot</span>(tabla_especies, <span class="code-function">aes</span>(x = species, y = porcentaje, fill = species)) +
 <span class="code-function">geom_col</span>() +
 <span class="code-function">geom_text</span>(<span class="code-function">aes</span>(label = <span class="code-function">paste0</span>(porcentaje, <span class="code-string">"%"</span>)), vjust = -0.5) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Porcentaje de especies de ping√ºinos"</span>,
   x = <span class="code-string">"Especie"</span>,
   y = <span class="code-string">"Porcentaje"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))
                   </div>

                   <div class="two-columns">
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Frecuencia absoluta de especies</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de barras de frecuencia absoluta" class="chart-img">
                           </div>
                       </div>
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Porcentaje por especies</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de barras de frecuencia porcentual" class="chart-img">
                           </div>
                       </div>
                   </div>

                   <div class="note">
                       <strong>Interpretaci√≥n:</strong> Las tablas de frecuencia nos permiten identificar r√°pidamente las categor√≠as m√°s comunes y su representaci√≥n en el conjunto de datos. En nuestro dataset, podemos observar que la especie Adelie es la m√°s numerosa, seguida por Gentoo y finalmente Chinstrap.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 9: Tablas de contingencia -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Tablas de contingencia en R</h1>
               </div>
               <div class="slide-body">
                   <h3>¬øQu√© son las tablas de contingencia?</h3>
                   <p>Las tablas de contingencia (o tablas cruzadas) muestran la relaci√≥n entre dos o m√°s variables categ√≥ricas, permitiendo identificar patrones y asociaciones entre ellas.</p>

                   <div class="chart">
                       <div class="chart-title">Estructura de una tabla de contingencia</div>
                       <img src="/api/placeholder/700/300" alt="Estructura de tabla de contingencia" class="chart-img">
                   </div>

                   <h3>Creaci√≥n de tablas de contingencia en R</h3>
                   <div class="code-header">
                       <span>Con funciones base de R</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Tabla de contingencia b√°sica: Especie vs Isla</span>
tabla_cont_especies_islas <- <span class="code-function">table</span>(penguins$species, penguins$island)
<span class="code-function">print</span>(tabla_cont_especies_islas)

<span class="code-comment"># A√±adir marginales (totales por fila y columna)</span>
tabla_cont_marginales <- <span class="code-function">addmargins</span>(tabla_cont_especies_islas)
<span class="code-function">print</span>(tabla_cont_marginales)

<span class="code-comment"># Proporciones por fila (% dentro de cada especie)</span>
prop_filas <- <span class="code-function">prop.table</span>(tabla_cont_especies_islas, 1) * 100
<span class="code-function">print</span>(<span class="code-function">round</span>(prop_filas, 2))

<span class="code-comment"># Proporciones por columna (% dentro de cada isla)</span>
prop_columnas <- <span class="code-function">prop.table</span>(tabla_cont_especies_islas, 2) * 100
<span class="code-function">print</span>(<span class="code-function">round</span>(prop_columnas, 2))

<span class="code-comment"># Proporciones totales (% del total general)</span>
prop_totales <- <span class="code-function">prop.table</span>(tabla_cont_especies_islas) * 100
<span class="code-function">print</span>(<span class="code-function">round</span>(prop_totales, 2))
                   </div>

                   <div class="code-header">
                       <span>Con tidyverse (dplyr)</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Tabla de contingencia con dplyr</span>
tabla_especies_islas <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(species, island) <span class="code-r-pipe">%>%</span>
 <span class="code-function">pivot_wider</span>(
   names_from = island,
   values_from = n,
   values_fill = 0
 )

<span class="code-function">print</span>(tabla_especies_islas)

<span class="code-comment"># Tabla completa con porcentajes por fila</span>
tabla_porcentajes <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(species, island) <span class="code-r-pipe">%>%</span>
 <span class="code-function">group_by</span>(species) <span class="code-r-pipe">%>%</span>
 <span class="code-function">mutate</span>(
   total_especie = <span class="code-function">sum</span>(n),
   porcentaje = <span class="code-function">round</span>(n / total_especie * 100, 2)
 ) <span class="code-r-pipe">%>%</span>
 <span class="code-function">ungroup</span>() <span class="code-r-pipe">%>%</span>
 <span class="code-function">arrange</span>(species, island)

<span class="code-function">print</span>(tabla_porcentajes)
                   </div>

                   <h3>An√°lisis de asociaci√≥n</h3>
                   <div class="code-header">
                       <span>Prueba de independencia Chi-cuadrado</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Prueba Chi-cuadrado para evaluar asociaci√≥n</span>
prueba_chi <- <span class="code-function">chisq.test</span>(tabla_cont_especies_islas)
<span class="code-function">print</span>(prueba_chi)

<span class="code-comment"># Interpretaci√≥n de resultados</span>
<span class="code-comment"># Si p-valor < 0.05: Existe asociaci√≥n estad√≠sticamente significativa</span>
<span class="code-comment"># Si p-valor ‚â• 0.05: No hay evidencia suficiente de asociaci√≥n</span>
                   </div>

                   <h3>Visualizaci√≥n de tablas de contingencia</h3>
                   <div class="code-header">
                       <span>Representaci√≥n gr√°fica de la relaci√≥n entre especies e islas</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Gr√°fico de barras apiladas</span>
<span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = island, fill = species)) +
 <span class="code-function">geom_bar</span>(position = <span class="code-string">"stack"</span>) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de especies por isla"</span>,
   x = <span class="code-string">"Isla"</span>,
   y = <span class="code-string">"Frecuencia"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Gr√°fico de barras agrupadas</span>
<span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = island, fill = species)) +
 <span class="code-function">geom_bar</span>(position = <span class="code-string">"dodge"</span>) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Comparaci√≥n de especies por isla"</span>,
   x = <span class="code-string">"Isla"</span>,
   y = <span class="code-string">"Frecuencia"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Mapa de calor (heatmap)</span>
tabla_para_heatmap <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(species, island) <span class="code-r-pipe">%>%</span>
 <span class="code-function">rename</span>(frecuencia = n)

<span class="code-function">ggplot</span>(tabla_para_heatmap, <span class="code-function">aes</span>(x = island, y = species, fill = frecuencia)) +
 <span class="code-function">geom_tile</span>() +
 <span class="code-function">geom_text</span>(<span class="code-function">aes</span>(label = frecuencia), color = <span class="code-string">"white"</span>, fontface = <span class="code-string">"bold"</span>) +
 <span class="code-function">scale_fill_gradient</span>(low = <span class="code-string">"#9d46ff"</span>, high = <span class="code-string">"#6200ea"</span>) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Mapa de calor: Especies por isla"</span>,
   x = <span class="code-string">"Isla"</span>,
   y = <span class="code-string">"Especie"</span>
 ) +
 <span class="code-function">theme_minimal</span>()
                   </div>

                   <div class="two-columns">
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Distribuci√≥n de especies por isla</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de barras apiladas" class="chart-img">
                           </div>
                       </div>
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Mapa de calor</div>
                               <img src="/api/placeholder/400/300" alt="Mapa de calor de especies por isla" class="chart-img">
                           </div>
                       </div>
                   </div>

                   <div class="note">
                       <strong>Interpretaci√≥n:</strong> Las tablas de contingencia revelan patrones interesantes en la distribuci√≥n de especies por isla. Por ejemplo, observamos que los ping√ºinos Gentoo solo se encuentran en la isla Biscoe, mientras que los Adelie est√°n presentes en las tres islas.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 10: Visualizaci√≥n de variables categ√≥ricas -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Visualizaci√≥n de variables categ√≥ricas con ggplot2</h1>
               </div>
               <div class="slide-body">
                   <h3>Gr√°ficos de barras</h3>
                   <p>Los gr√°ficos de barras son la forma m√°s com√∫n y efectiva de visualizar variables categ√≥ricas, mostrando la frecuencia o proporci√≥n de cada categor√≠a.</p>

                   <div class="code-header">
                       <span>Gr√°ficos de barras b√°sicos</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Gr√°fico de barras simple</span>
p1 <- <span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = species, fill = species)) +
 <span class="code-function">geom_bar</span>() +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de ping√ºinos por especie"</span>,
   x = <span class="code-string">"Especie"</span>,
   y = <span class="code-string">"Conteo"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Gr√°fico de barras horizontal</span>
p2 <- <span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(y = species, fill = species)) +
 <span class="code-function">geom_bar</span>() +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de ping√ºinos por especie"</span>,
   y = <span class="code-string">"Especie"</span>,
   x = <span class="code-string">"Conteo"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Mostrar gr√°ficos</span>
p1
p2
                   </div>

                   <h3>Personalizaci√≥n de gr√°ficos de barras</h3>
                   <div class="code-header">
                       <span>Gr√°ficos de barras avanzados</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Gr√°fico de barras con etiquetas de datos</span>
p3 <- <span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = species, fill = species)) +
 <span class="code-function">geom_bar</span>() +
 <span class="code-function">geom_text</span>(
   <span class="code-function">aes</span>(label = <span class="code-function">after_stat</span>(count)),
   stat = <span class="code-string">"count"</span>,
   vjust = -0.5
 ) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de ping√ºinos por especie"</span>,
   subtitle = <span class="code-string">"Con etiquetas de conteo"</span>,
   x = <span class="code-string">"Especie"</span>,
   y = <span class="code-string">"Conteo"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>)) +
 <span class="code-function">ylim</span>(0, 160)  <span class="code-comment"># Ajustar l√≠mite Y para acomodar etiquetas</span>

<span class="code-comment"># Gr√°fico de barras agrupadas (dos variables categ√≥ricas)</span>
p4 <- <span class="code-function">ggplot</span>(penguins, <span class="code-function">aes</span>(x = species, fill = sex)) +
 <span class="code-function">geom_bar</span>(position = <span class="code-string">"dodge"</span>) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de ping√ºinos por especie y sexo"</span>,
   x = <span class="code-string">"Especie"</span>,
   y = <span class="code-string">"Conteo"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(
   values = <span class="code-function">c</span>(<span class="code-string">"#FF7043"</span>, <span class="code-string">"#29B6F6"</span>),
   na.value = <span class="code-string">"#9E9E9E"</span>
 )

<span class="code-comment"># Mostrar gr√°ficos</span>
p3
p4
                   </div>

                   <div class="two-columns">
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Distribuci√≥n de especies</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de barras de especies" class="chart-img">
                           </div>
                       </div>
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Distribuci√≥n por especie y sexo</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de barras agrupadas" class="chart-img">
                           </div>
                       </div>
                   </div>

                   <h3>Gr√°ficos circulares</h3>
                   <p>Los gr√°ficos circulares (o de pastel) muestran las proporciones de las categor√≠as como porciones de un c√≠rculo completo.</p>

                   <div class="code-header">
                       <span>Creaci√≥n de gr√°ficos circulares con ggplot2</span>
                   </div>
                   <div class="code-block">
<span class="code-comment"># Preparar datos para el gr√°fico circular</span>
datos_pie <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-function">count</span>(species) <span class="code-r-pipe">%>%</span>
 <span class="code-function">mutate</span>(
   porcentaje = <span class="code-function">round</span>(n / <span class="code-function">sum</span>(n) * 100, 1),
   etiqueta = <span class="code-function">paste0</span>(species, <span class="code-string">"\n"</span>, porcentaje, <span class="code-string">"%"</span>)
 )

<span class="code-comment"># Gr√°fico circular con ggplot2</span>
p5 <- <span class="code-function">ggplot</span>(datos_pie, <span class="code-function">aes</span>(x = <span class="code-string">""</span>, y = n, fill = species)) +
 <span class="code-function">geom_bar</span>(width = 1, stat = <span class="code-string">"identity"</span>) +
 <span class="code-function">coord_polar</span>(<span class="code-string">"y"</span>, start = 0) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Proporci√≥n de especies de ping√ºinos"</span>,
   fill = <span class="code-string">"Especie"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">theme</span>(
   axis.title = <span class="code-function">element_blank</span>(),
   axis.text = <span class="code-function">element_blank</span>(),
   panel.grid = <span class="code-function">element_blank</span>()
 ) +
 <span class="code-function">geom_text</span>(
   <span class="code-function">aes</span>(label = etiqueta),
   position = <span class="code-function">position_stack</span>(vjust = 0.5)
 ) +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Mostrar gr√°fico</span>
p5
                   </div>

                   <div class="chart">
                       <div class="chart-title">Proporci√≥n de especies de ping√ºinos</div>
                       <img src="/api/placeholder/500/300" alt="Gr√°fico circular de especies" class="chart-img">
                   </div>

                   <div class="warning">
                       <strong>Advertencia sobre gr√°ficos circulares:</strong> Los gr√°ficos circulares pueden ser visualmente atractivos, pero tienen limitaciones para la interpretaci√≥n precisa de datos. El cerebro humano percibe mejor las diferencias en longitud (como en los gr√°ficos de barras) que en √°ngulos o √°reas (como en los circulares). Use gr√°ficos circulares principalmente cuando:
                       <ul>
                           <li>Tenga pocas categor√≠as (‚â§ 5)</li>
                           <li>Quiera enfatizar proporciones respecto al total</li>
                           <li>Las diferencias entre categor√≠as sean sustanciales</li>
                       </ul>
                       Para an√°lisis m√°s precisos, se recomiendan los gr√°ficos de barras.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 11: Actividad pr√°ctica -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Actividad pr√°ctica: An√°lisis descriptivo de variables categ√≥ricas</h1>
               </div>
               <div class="slide-body">
                   <h3>Ejercicio guiado: An√°lisis completo de variables categ√≥ricas</h3>
                   <p>Vamos a realizar un an√°lisis descriptivo completo de las variables categ√≥ricas del dataset de ping√ºinos.</p>

                   <div class="steps">
                       <div class="step">
                           <div class="step-title">Preparaci√≥n de los datos</div>
                           <div class="code-block">
<span class="code-comment"># Cargar paquetes necesarios</span>
<span class="code-keyword">library</span>(palmerpenguins)
<span class="code-keyword">library</span>(tidyverse)

<span class="code-comment"># Cargar dataset y crear copia de trabajo</span>
data(penguins)
penguins_limpio <- penguins <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Eliminar filas con valores faltantes</span>
 <span class="code-function">drop_na</span>() <span class="code-r-pipe">%>%</span>
 <span class="code-comment"># Crear variable derivada para categor√≠a de tama√±o</span>
 <span class="code-function">mutate</span>(
   size_category = <span class="code-function">case_when</span>(
     body_mass_g < 3500 ~ <span class="code-string">"Peque√±o"</span>,
     body_mass_g < 4500 ~ <span class="code-string">"Mediano"</span>,
     TRUE ~ <span class="code-string">"Grande"</span>
   ),
   <span class="code-comment"># Convertir a factor ordenado</span>
   size_category = <span class="code-function">factor</span>(
     size_category, 
     levels = <span class="code-function">c</span>(<span class="code-string">"Peque√±o"</span>, <span class="code-string">"Mediano"</span>, <span class="code-string">"Grande"</span>),
     ordered = TRUE
   )
 )

<span class="code-comment"># Verificar estructura actualizada</span>
<span class="code-function">glimpse</span>(penguins_limpio)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">An√°lisis univariado de cada variable categ√≥rica</div>
                           <div class="code-block">
<span class="code-comment"># Crear funci√≥n para generar tablas de frecuencia</span>
generar_tabla_frecuencia <- <span class="code-keyword">function</span>(data, variable) {
 data <span class="code-r-pipe">%>%</span>
   <span class="code-function">count</span>({{ variable }}) <span class="code-r-pipe">%>%</span>
   <span class="code-function">mutate</span>(
     porcentaje = <span class="code-function">round</span>(n / <span class="code-function">sum</span>(n) * 100, 2),
     acumulado = <span class="code-function">cumsum</span>(n),
     porc_acum = <span class="code-function">round</span>(<span class="code-function">cumsum</span>(porcentaje), 2)
   )
}

<span class="code-comment"># Analizar cada variable categ√≥rica</span>
tabla_especies <- generar_tabla_frecuencia(penguins_limpio, species)
tabla_islas <- generar_tabla_frecuencia(penguins_limpio, island)
tabla_sexos <- generar_tabla_frecuencia(penguins_limpio, sex)
tabla_tama√±os <- generar_tabla_frecuencia(penguins_limpio, size_category)

<span class="code-comment"># Mostrar resultados</span>
<span class="code-function">print</span>(tabla_especies)
<span class="code-function">print</span>(tabla_islas)
<span class="code-function">print</span>(tabla_sexos)
<span class="code-function">print</span>(tabla_tama√±os)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Crear visualizaciones para cada variable</div>
                           <div class="code-block">
<span class="code-comment"># Funci√≥n para crear gr√°ficos de barras estandarizados</span>
crear_grafico_barras <- <span class="code-keyword">function</span>(data, variable, titulo, colores = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>)) {
 data <span class="code-r-pipe">%>%</span>
   <span class="code-function">ggplot</span>(<span class="code-function">aes</span>(x = {{ variable }}, fill = {{ variable }})) +
   <span class="code-function">geom_bar</span>() +
   <span class="code-function">geom_text</span>(
     <span class="code-function">aes</span>(label = <span class="code-function">after_stat</span>(count)),
     stat = <span class="code-string">"count"</span>,
     vjust = -0.5
   ) +
   <span class="code-function">labs</span>(
     title = titulo,
     x = <span class="code-function">deparse</span>(<span class="code-function">substitute</span>(variable)),
     y = <span class="code-string">"Frecuencia"</span>
   ) +
   <span class="code-function">theme_minimal</span>() +
   <span class="code-function">theme</span>(
     plot.title = <span class="code-function">element_text</span>(face = <span class="code-string">"bold"</span>),
     axis.title = <span class="code-function">element_text</span>(face = <span class="code-string">"bold"</span>)
   ) +
   <span class="code-function">scale_fill_manual</span>(values = colores
   ) +
   <span class="code-function">ylim</span>(0, <span class="code-function">max</span>(<span class="code-function">table</span>(data[[<span class="code-function">deparse</span>(<span class="code-function">substitute</span>(variable))]])) * 1.1)
}

<span class="code-comment"># Crear gr√°ficos para cada variable</span>
g1 <- crear_grafico_barras(penguins_limpio, species, <span class="code-string">"Distribuci√≥n de ping√ºinos por especie"</span>)
g2 <- crear_grafico_barras(penguins_limpio, island, <span class="code-string">"Distribuci√≥n de ping√ºinos por isla"</span>)
g3 <- crear_grafico_barras(penguins_limpio, sex, <span class="code-string">"Distribuci√≥n de ping√ºinos por sexo"</span>, 
                       <span class="code-function">c</span>(<span class="code-string">"#FF7043"</span>, <span class="code-string">"#29B6F6"</span>))
g4 <- crear_grafico_barras(penguins_limpio, size_category, <span class="code-string">"Distribuci√≥n por categor√≠a de tama√±o"</span>, 
                       <span class="code-function">c</span>(<span class="code-string">"#FDD835"</span>, <span class="code-string">"#FB8C00"</span>, <span class="code-string">"#D32F2F"</span>))

<span class="code-comment"># Mostrar gr√°ficos</span>
g1
g2
g3
g4
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">An√°lisis bivariado (tablas de contingencia)</div>
                           <div class="code-block">
<span class="code-comment"># Crear tablas de contingencia para relaciones interesantes</span>
tabla_esp_isla <- <span class="code-function">table</span>(penguins_limpio$species, penguins_limpio$island)
tabla_esp_sexo <- <span class="code-function">table</span>(penguins_limpio$species, penguins_limpio$sex)
tabla_esp_tama√±o <- <span class="code-function">table</span>(penguins_limpio$species, penguins_limpio$size_category)

<span class="code-comment"># Mostrar tablas con marginales</span>
<span class="code-function">addmargins</span>(tabla_esp_isla)
<span class="code-function">addmargins</span>(tabla_esp_sexo)
<span class="code-function">addmargins</span>(tabla_esp_tama√±o)

<span class="code-comment"># Pruebas de independencia Chi-cuadrado</span>
prueba_esp_isla <- <span class="code-function">chisq.test</span>(tabla_esp_isla)
prueba_esp_sexo <- <span class="code-function">chisq.test</span>(tabla_esp_sexo)
prueba_esp_tama√±o <- <span class="code-function">chisq.test</span>(tabla_esp_tama√±o)

<span class="code-comment"># Mostrar resultados de las pruebas</span>
<span class="code-function">print</span>(prueba_esp_isla)
<span class="code-function">print</span>(prueba_esp_sexo)
<span class="code-function">print</span>(prueba_esp_tama√±o)
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Visualizaciones bivariadas</div>
                           <div class="code-block">
<span class="code-comment"># Gr√°fico de barras apiladas: Especie por isla</span>
g5 <- <span class="code-function">ggplot</span>(penguins_limpio, <span class="code-function">aes</span>(x = island, fill = species)) +
 <span class="code-function">geom_bar</span>(position = <span class="code-string">"stack"</span>) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Distribuci√≥n de especies por isla"</span>,
   x = <span class="code-string">"Isla"</span>,
   y = <span class="code-string">"Frecuencia"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#6200ea"</span>, <span class="code-string">"#00e5ff"</span>, <span class="code-string">"#00c853"</span>))

<span class="code-comment"># Gr√°fico de mosaico para especie y tama√±o</span>
<span class="code-keyword">library</span>(ggmosaic)  <span class="code-comment"># install.packages("ggmosaic") si no lo tienes</span>
g6 <- <span class="code-function">ggplot</span>(data = penguins_limpio) +
 <span class="code-function">geom_mosaic</span>(<span class="code-function">aes</span>(x = <span class="code-function">product</span>(species), fill = size_category)) +
 <span class="code-function">labs</span>(
   title = <span class="code-string">"Relaci√≥n entre especie y categor√≠a de tama√±o"</span>,
   x = <span class="code-string">"Especie"</span>,
   y = <span class="code-string">"Proporci√≥n"</span>
 ) +
 <span class="code-function">theme_minimal</span>() +
 <span class="code-function">scale_fill_manual</span>(values = <span class="code-function">c</span>(<span class="code-string">"#FDD835"</span>, <span class="code-string">"#FB8C00"</span>, <span class="code-string">"#D32F2F"</span>))

<span class="code-comment"># Mostrar gr√°ficos</span>
g5
g6
                           </div>
                       </div>
                       
                       <div class="step">
                           <div class="step-title">Informe de conclusiones</div>
                           <div class="code-block">
<span class="code-comment"># Ejemplo de conclusiones basadas en el an√°lisis (c√≥digo para generar un reporte)</span>
<span class="code-function">cat</span>(<span class="code-string">"Principales hallazgos del an√°lisis descriptivo:\n\n"</span>,
   <span class="code-string">"1. Distribuci√≥n de especies:\n"</span>,
   <span class="code-string">"   - La especie m√°s com√∫n es Adelie con "</span>, <span class="code-function">tabla_especies$n[tabla_especies$species == 'Adelie']</span>, <span class="code-string">" individuos ("\span>, <span class="code-function">tabla_especies$porcentaje[tabla_especies$species == 'Adelie']</span>, <span class="code-string">"%)\n"</span>,
   <span class="code-string">"   - La especie menos com√∫n es Chinstrap con "</span>, <span class="code-function">tabla_especies$n[tabla_especies$species == 'Chinstrap']</span>, <span class="code-string">" individuos\n\n"</span>,
   <span class="code-string">"2. Distribuci√≥n por isla:\n"</span>,
   <span class="code-string">"   - La mayor√≠a de los ping√ºinos se encuentran en la isla Biscoe\n"</span>,
   <span class="code-string">"   - Los ping√ºinos Gentoo solo se encuentran en la isla Biscoe\n"</span>,
   <span class="code-string">"   - Los ping√ºinos Adelie est√°n presentes en las tres islas\n\n"</span>,
   <span class="code-string">"3. Relaci√≥n entre variables:\n"</span>,
   <span class="code-string">"   - Existe una asociaci√≥n estad√≠sticamente significativa entre especie e isla (p < 0.001)\n"</span>,
   <span class="code-string">"   - Tambi√©n hay una fuerte asociaci√≥n entre especie y categor√≠a de tama√±o (p < 0.001)\n"</span>,
   <span class="code-string">"   - Los ping√ºinos Gentoo tienden a ser m√°s grandes que las otras especies\n"</span>
)
                           </div>
                       </div>
                   </div>

                   <div class="two-columns">
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Distribuci√≥n por especie</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de distribuci√≥n por especie" class="chart-img">
                           </div>
                       </div>
                       <div class="column">
                           <div class="chart">
                               <div class="chart-title">Relaci√≥n especie-tama√±o</div>
                               <img src="/api/placeholder/400/300" alt="Gr√°fico de mosaico especie-tama√±o" class="chart-img">
                           </div>
                       </div>
                   </div>

                   <div class="tip">
                       <strong>Consejo:</strong> Este flujo de trabajo es altamente adaptable a diferentes conjuntos de datos. Identifique primero las variables categ√≥ricas, realice an√°lisis univariados, luego explore relaciones bivariadas y finalmente integre los hallazgos en un informe coherente.
                   </div>
               </div>
           </div>
       </div>

       <!-- Slide 12: Resumen y conclusiones -->
       <div class="slide">
           <div class="slide-content">
               <div class="slide-header">
                   <h1>Resumen y siguientes pasos</h1>
               </div>
               <div class="slide-body">
                   <h3>Conceptos clave revisados</h3>
                   <div class="two-columns">
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Semana 2</div>
                               <ul>
                                   <li>Importaci√≥n y exportaci√≥n de datos en diferentes formatos</li>
                                   <li>Uso del ecosistema tidyverse para manipulaci√≥n de datos</li>
                                   <li>Exploraci√≥n inicial y preparaci√≥n de conjuntos de datos</li>
                               </ul>
                           </div>
                           <div class="card">
                               <div class="card-title">T√©cnicas aprendidas</div>
                               <ul>
                                   <li>Manipulaci√≥n eficiente de datos con dplyr</li>
                                   <li>Visualizaci√≥n efectiva con ggplot2</li>
                                   <li>Creaci√≥n y an√°lisis de tablas de frecuencia y contingencia</li>
                                   <li>Pruebas estad√≠sticas b√°sicas (Chi-cuadrado)</li>
                               </ul>
                           </div>
                       </div>
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Semana 3</div>
                               <ul>
                                   <li>Variables cualitativas vs. cuantitativas</li>
                                   <li>Escalas de medici√≥n y su importancia</li>
                                   <li>An√°lisis descriptivo de variables categ√≥ricas</li>
                                   <li>Visualizaci√≥n de datos categ√≥ricos</li>
                               </ul>
                           </div>
                           <div class="card">
                               <div class="card-title">Dataset de ping√ºinos</div>
                               <ul>
                                   <li>3 especies: Adelie, Chinstrap y Gentoo</li>
                                   <li>Variables categ√≥ricas (especie, isla, sexo)</li>
                                   <li>Variables num√©ricas (medidas corporales)</li>
                                   <li>344 observaciones de ping√ºinos</li>
                               </ul>
                           </div>
                       </div>
                   </div>

                   <h3>Pr√≥ximas sesiones</h3>
                   <div class="steps">
                       <div class="step">
                           <div class="step-title">Semana 4: Estad√≠stica descriptiva II</div>
                           <p>Profundizaremos en medidas de tendencia central (media, mediana, moda) y posici√≥n (cuartiles, percentiles) para variables cuantitativas, implement√°ndolas en R.</p>
                       </div>
                       <div class="step">
                           <div class="step-title">Semana 5: Estad√≠stica descriptiva III</div>
                           <p>Estudiaremos medidas de dispersi√≥n (varianza, desviaci√≥n est√°ndar) y t√©cnicas para detectar valores at√≠picos, visualizando distribuciones con histogramas y gr√°ficos de densidad.</p>
                       </div>
                       <div class="step">
                           <div class="step-title">Semana 6: An√°lisis exploratorio de datos</div>
                           <p>Integraremos todo lo aprendido en un enfoque sistem√°tico para el an√°lisis exploratorio, utilizando boxplots, scatterplots y otras herramientas visuales avanzadas.</p>
                       </div>
                   </div>

                   <h3>Recursos adicionales</h3>
                   <div class="two-columns">
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Libros recomendados</div>
                               <ul>
                                   <li>R for Data Science (Wickham & Grolemund)</li>
                                   <li>R Graphics Cookbook (Chang)</li>
                                   <li>R in Action (Kabacoff)</li>
                                   <li>Fundamentals of Data Visualization (Wilke)</li>
                               </ul>
                           </div>
                       </div>
                       <div class="column">
                           <div class="card">
                               <div class="card-title">Recursos en l√≠nea</div>
                               <ul>
                                   <li>RStudio Cheatsheets: <a href="#">rstudio.com/resources/cheatsheets</a></li>
                                   <li>R-bloggers: <a href="#">r-bloggers.com</a></li>
                                   <li>Tidyverse documentation: <a href="#">tidyverse.org</a></li>
                                   <li>Dataset Peng√ºinos: <a href="#">allisonhorst.github.io/palmerpenguins</a></li>
                               </ul>
                           </div>
                       </div>
                   </div>

                   <div class="note">
                       <strong>Para la pr√≥xima clase:</strong> Practique los conceptos aprendidos con el dataset de ping√ºinos. Intente crear diferentes tablas de frecuencia y visualizaciones para las variables categ√≥ricas, e investigue las caracter√≠sticas num√©ricas con funciones como summary().
                   </div>
               </div>
           </div>
       </div>

       <!-- Controles de navegaci√≥n -->
       <div class="controls">
           <button id="prev">Anterior</button>
           <button id="next">Siguiente</button>
       </div>
       <div class="slide-counter">Diapositiva <span id="current">1</span> de <span id="total">12</span></div>
   </div>

   <script>
       const slides = document.querySelectorAll('.slide');
       const totalSlides = slides.length;
       let currentSlide = 0;
       
       document.getElementById('total').textContent = totalSlides;
       
       function showSlide(index) {
           if (index < 0) index = 0;
           if (index >= totalSlides) index = totalSlides - a- 1;
           
           slides.forEach(slide => slide.classList.remove('active'));
           slides[index].classList.add('active');
           currentSlide = index;
           document.getElementById('current').textContent = currentSlide + 1;
       }
       
       document.getElementById('next').addEventListener('click', () => {
           showSlide(currentSlide + 1);
       });
       
       document.getElementById('prev').addEventListener('click', () => {
           showSlide(currentSlide - 1);
       });
       
       // Navegaci√≥n con teclado
       document.addEventListener('keydown', (e) => {
           if (e.key === 'ArrowRight') showSlide(currentSlide + 1);
           if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
       });
   </script>
</body>
</html>
